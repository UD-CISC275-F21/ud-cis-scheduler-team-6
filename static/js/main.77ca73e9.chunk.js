(this["webpackJsonpfinal-project-starter"]=this["webpackJsonpfinal-project-starter"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(8),r=n.n(c),i=(n(30),n(31),n(32),n(33),n(7)),u=n(16);function o(e,t){for(var n=0;n<e.length;n++)if(e[n].uuid===t)return n;return-1}function d(e,t){var n=e.map((function(e){return e}));switch(t.type){case"ADD SEMESTER":var a=t,s=o(n,a.uuid),c=n[s],r=(new Array).concat(c.semesters);return r.push({name:a.name,start:a.start,end:a.end,uuid:a.semesterUuid,courses:new Map}),n[s]={index:n[s].index,uuid:n[s].uuid,semesters:r},n;case"ADD YEAR":var i=t,u={index:i.index,uuid:i.uuid,semesters:new Array};return n.push(u),n;case"DELETE SEMESTER":var d=t,l=o(n,d.uuid),j=n[l].semesters.filter((function(e){return e.uuid!==d.semesterUuid}));return n[l]={index:n[l].index,uuid:n[l].uuid,semesters:j},n;case"DELETE YEAR":var b=t;return n.filter((function(e){return e.uuid!==b.uuid}));default:throw Error("".concat(t.type," not implemented!"))}}var l=function(e){var t=Object(a.useReducer)(d,void 0,void 0===e?function(){return new Array}:e),n=Object(i.a)(t,2),s=n[0],c=n[1],r=function(e,t){c({type:"ADD YEAR",uuid:e,index:t})},l=function(e,t){c({type:"DELETE SEMESTER",uuid:e,semesterUuid:t})},j=function(e){c({type:"DELETE YEAR",uuid:e})};return{value:s,push:r,putSemester:function(e,t,n,a,s){c({type:"ADD SEMESTER",uuid:e,name:s,start:n,end:a,semesterUuid:t})},removeSemester:l,removeYear:j,clear:function(e){!function(e,t,n,a,s){if(void 0!==s&&-1!==o(e,s)){var c,r=Object(u.a)(e[o(e,s)].semesters);try{for(r.s();!(c=r.n()).done;)n(s,c.value.uuid)}catch(h){r.e(h)}finally{r.f()}}else if(void 0===s){var i,d=new Array,l=Object(u.a)(e);try{for(l.s();!(i=l.n()).done;){var j=i.value;d.push({semesters:[],index:j.index,uuid:j.uuid}),a(j.uuid)}}catch(h){l.e(h)}finally{l.f()}for(var b=0,m=d;b<m.length;b++){var O=m[b];t(O.uuid,O.index)}}}(s,r,l,j,e)}}},j=n(49),b=n(10),m=n(19),O=n.n(m),h=n(46),p=n(45),f=n(20),x=n(47),v=n(51),g=n(17),C=n(48),E=n(50),y=n(1),D=function(e){return e.isOpen?r.a.createPortal(Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"modal-add-course",children:[Object(y.jsx)("button",{onClick:e.onClickClose,children:"Close Button"}),Object(y.jsxs)(C.a,{onSubmit:e.onClickSubmit,children:[Object(y.jsxs)(p.a,{className:"mb-3",children:[Object(y.jsxs)(C.a.Group,{className:"mb-3",as:f.a,controlId:"courseName",children:[Object(y.jsx)(C.a.Label,{children:"Course Name"}),Object(y.jsx)(C.a.Control,{type:"text",placeholder:"Enter Course Name","data-testid":"courseNameField",name:"courseName",defaultValue:e.defaultValues.courseName,onChange:e.onChange}),Object(y.jsxs)(C.a.Text,{className:"text-muted",children:["You can find this from"," ",Object(y.jsx)("a",{href:"https://my.udel.edu/task/all/courses",children:"this"})," ","course search."]})]}),Object(y.jsxs)(C.a.Group,{className:"mb-3",as:f.a,controlId:"courseID",children:[Object(y.jsx)(C.a.Label,{children:"Course ID"}),Object(y.jsx)(C.a.Control,{type:"text",name:"courseID",placeholder:"eg. CISC220",onChange:e.onChange,defaultValue:e.defaultValues.courseID})]})]}),Object(y.jsxs)(C.a.Group,{className:"mb-3",controlId:"courseDescription",children:[Object(y.jsx)(C.a.Label,{children:"Course Description (Optional) "}),Object(y.jsx)(C.a.Control,{name:"courseDescription",as:"textarea",placeholder:"enter the course description here",defaultValue:e.defaultValues.courseDescription,onChange:e.onChange,style:{height:"100px"}})]}),Object(y.jsx)(E.a,{variant:"primary",type:"submit",children:e.isEditing?"Edit Course":"Add Course"})]})]})}),document.getElementById("modal-view")||document.body):null},S=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{display:"inline-block"},onClick:function(){console.log(e.id),e.onRemoveCourse(e)},children:e.name}),Object(y.jsx)("button",{style:{display:"inline-block"},className:"trigger","data-testid":"edit-course-button",onClick:function(){e.onClickEdit(e)},children:"Edit"})]})},w=function(e,t){switch(t.type){case"ADD COURSE":return e.set(t.payload.id,t.payload);case"REMOVE COURSE":var n=new Map(e);return n.delete(t.payload.id),n}},k=function(e){return e||new Map},N=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),u=Object(i.a)(r,2),o=u[0],d=u[1],l=Object(a.useState)(""),j=Object(i.a)(l,2),m=j[0],O=j[1],h=Object(a.useState)(""),p=Object(i.a)(h,2),f=p[0],x=p[1],v=Object(a.useState)(""),g=Object(i.a)(v,2),C=g[0],E=g[1];console.log("Semester render!");var N=Object(a.useReducer)(w,e.courses,k),R=Object(i.a)(N,2),A=R[0],I=R[1],T=function(e){I({type:"REMOVE COURSE",payload:e}),console.log("Remove Course",e.id)},U=function(e){O(e.name),E(e.description),x(e.id),c(!0),d(!0)},F=Array.from(A).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(S,Object(b.a)({onClickEdit:U,onRemoveCourse:T},a))," "]},n)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(D,{defaultValues:{courseName:m,courseID:f,courseDescription:C},isEditing:o,isOpen:s,onClickClose:function(){c(!1),d(!1)},onClickSubmit:function(e){!function(e){e.preventDefault(),I({type:"ADD COURSE",payload:{id:f,name:m,description:C}}),O(""),E(""),x(""),o&&d(!1)}(e)},onChange:function(e){switch(e.preventDefault(),e.target.name){case"courseName":O(e.target.value);break;case"courseID":x(e.target.value);break;case"courseDescription":E(e.target.value)}}}),Object(y.jsx)("span",{"data-testid":"Semester ".concat(e.name," ").concat(e.start.getUTCFullYear()),children:e.name}),Object(y.jsx)("button",{"data-testid":"Remove Semester ".concat(e.name," ").concat(e.start.getUTCFullYear()),className:"trigger",onClick:e.removeSemester,children:"-"}),Object(y.jsx)("div",{className:"courses",children:F}),Object(y.jsx)("button",{className:"trigger",onClick:function(){c(!0)},"data-testid":"add-course-button",children:"+"})]})};var R=function(e){var t=Object(a.useRef)(null),n=Object(a.useMemo)((function(){return e.semesters.sort((function(e,t){return e.start.getTime()-t.start.getTime()}))}),[e.semesters]);return Object(y.jsx)(h.a,{className:"container-sm",children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(f.a,{children:Object(y.jsx)(O.a,{trigger:Object(y.jsx)("button",{"data-testid":"Year ".concat(e.index," label"),className:"trigger",children:"Year ".concat(e.index," >")}),transitionTime:200,children:Object(y.jsxs)(p.a,{"data-testid":"collapsible-content",children:[n.map((function(t,n){return Object(y.jsx)(f.a,{"data-testid":"Year ".concat(e.index," semester ").concat(n+1),children:Object(y.jsx)(N,Object(b.a)(Object(b.a)({},t),{},{removeSemester:function(){e.removeSemester(t.uuid)}}))},t.uuid)})),Object(y.jsxs)(f.a,{children:[Object(y.jsx)("button",{"data-testid":"trigger ".concat(e.index),className:"trigger",ref:t,onClick:function(){e.setFormUuid(e.formUuid===e.uuid?null:e.uuid)},children:"+"}),Object(y.jsx)(x.a,{target:t,placement:"right-end",show:e.formUuid===e.uuid,onHide:function(){e.setFormUuid(null)},rootClose:!0,transition:!1,children:Object(y.jsx)(v.a,{id:"popover-basic",children:Object(y.jsx)(g.a,{children:Object(y.jsxs)("form",{"data-testid":"semester-form ".concat(e.index),onSubmit:e.handleSubmit,children:[Object(y.jsx)("label",{children:"season:"}),Object(y.jsx)("input",{"data-testid":"season-input",type:"text",name:"season",onChange:e.handleInput}),Object(y.jsx)("br",{}),Object(y.jsx)("label",{children:"starts:"}),Object(y.jsx)("input",{"data-testid":"starts-input",type:"date",name:"starts",onChange:e.handleInput}),Object(y.jsx)("br",{}),Object(y.jsx)("label",{children:"ends:"}),Object(y.jsx)("input",{"data-testid":"ends-input",type:"date",name:"ends",onChange:e.handleInput}),Object(y.jsx)("br",{}),Object(y.jsx)("input",{"data-testid":"submit-button",type:"submit",value:"submit"})]})})})})]})]})})}),Object(y.jsx)(f.a,{children:Object(y.jsx)("button",{onClick:e.clear,"data-testid":"clear-year ".concat(e.index),children:"Clear"})})]})})};function A(){var e=(new Date).getFullYear(),t=new Array,n={index:1,uuid:Object(j.a)(),semesters:[]};n.semesters.push({uuid:Object(j.a)(),name:"fall",start:new Date("".concat(e,"-08-31")),end:new Date("".concat(e,"-12-15")),courses:new Map}),n.semesters.push({uuid:Object(j.a)(),name:"spring",start:new Date("".concat(e+1,"-02-07")),end:new Date("".concat(e+1,"-05-26")),courses:new Map});var a={index:2,uuid:Object(j.a)(),semesters:[]};return a.semesters.push({uuid:Object(j.a)(),name:"fall",start:new Date("".concat(e+1,"-08-31")),end:new Date("".concat(e+1,"-12-15")),courses:new Map}),t.push(n),t.push(a),t}function I(e){if(void 0===e.csv&&void 0===e.json){var t=l(A),n=Object(a.useState)(null),s=Object(i.a)(n,2),c=s[0],r=s[1],u=Object(a.useState)(null),o=Object(i.a)(u,2),d=o[0],b=o[1],m=Object(a.useState)(null),O=Object(i.a)(m,2),h=O[0],p=O[1],f=Object(a.useState)(null),x=Object(i.a)(f,2),v=x[0],g=x[1],C=function(e){switch(e.target.name){case"season":r(e.target.value);break;case"starts":b(e.target.value);break;case"ends":p(e.target.value)}};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{onClick:function(){t.clear()},"data-testid":"clear-button",children:"Clear"}),Object(y.jsxs)("div",{children:[t.value.map((function(e,n){return Object(y.jsx)("div",{"data-testid":"Year",children:Object(y.jsx)(R,{handleInput:C,handleSubmit:function(n){!function(e,n){e.preventDefault(),null!==c&&null!==h&&null!==d&&(t.putSemester(n,Object(j.a)(),new Date(d),new Date(h),c),r(null),b(null),p(null),g(null))}(n,e.uuid)},semesters:e.semesters,uuid:e.uuid,index:n+1,formUuid:v,setFormUuid:g,removeSemester:function(n){t.removeSemester(e.uuid,n)},clear:function(){t.clear(e.uuid)}})},e.uuid)})),Object(y.jsx)("button",{"data-testid":"add-year-button",onClick:function(){t.push(Object(j.a)(),t.value.length)},children:"+"})]})]})}return Object(y.jsx)(y.Fragment,{})}var T=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(I,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root")),U()}},[[39,1,2]]]);
//# sourceMappingURL=main.77ca73e9.chunk.js.map