(this["webpackJsonpfinal-project-starter"]=this["webpackJsonpfinal-project-starter"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(9),c=n.n(s),i=(n(43),n(44),n(45),n(46),n(14)),u=n(7),o=n(23),l=n(8),d=n(69),j=(n(47),n(68)),m=n(1);Array(),Array();var b=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1],c=function(e){return localStorage.setItem("Plans Array",JSON.stringify(a)),Object(m.jsx)(d.a,{style:{width:"18rem"},className:"grid",children:Object(m.jsxs)(d.a.Body,{children:[Object(m.jsxs)(d.a.Title,{children:["Plan #",e.id," "]}),Object(m.jsx)(i.b,{to:"Plans/".concat(e.uuid),children:Object(m.jsx)("button",{children:"Edit Plan"})}),Object(m.jsx)(d.a.Text,{children:e.date}),Object(m.jsx)("button",{onClick:function(){console.log("button pressed"),function(e,t){if(window.confirm("Are you sure you want to delete this plan?")){var n=Object(o.a)(a);console.log("plans array",a),console.log(t.id);var r=n.indexOf(t);console.log("index is",r),-1!==r&&(n.splice(r,1),console.log("plan deleted"),console.log("new array is",n),s(n))}}(0,e)},children:"-"}),Object(m.jsx)("button",{onClick:function(){!function(e){s([].concat(Object(o.a)(a),[{id:e.id,uuid:Object(j.a)(),name:e.name,date:e.date,years:e.years}]));var t=a.length;console.log("index: ",t)}(e)},children:"Duplicate Plan"})]})})};return Object(m.jsxs)("div",{className:"grid",children:[Object(m.jsx)("button",{onClick:function(){s([].concat(Object(o.a)(a),[{id:a.length,uuid:Object(j.a)(),name:"",date:(new Date).toLocaleDateString(),years:Array()}]));var e=a.length;console.log("index: ",e);var t=[];e<=0&&t.push(a[0]),1===e&&t.push(a[0]),e>1&&t.push(a[e-1])},children:"Add a plan +"}),a.map((function(e){return Object(m.jsx)("li",{children:c(e)},e.uuid)}))]})},h=n(70),O=n(13);function f(e,t){for(var n=0;n<e.length;n++)if(e[n].uuid===t)return n;return-1}function p(e,t){var n=e.map((function(e){return e}));switch(t.type){case"ADD SEMESTER":var r=t,a=f(n,r.uuid),s=n[a],c=(new Array).concat(s.semesters);return c.push({name:r.name,start:r.start,end:r.end,uuid:r.semesterUuid,courses:new Map}),n[a]={index:n[a].index,uuid:n[a].uuid,semesters:c},n;case"ADD YEAR":var i=t,u={index:i.index,uuid:i.uuid,semesters:new Array};return n.push(u),n;case"DELETE SEMESTER":var o=t,l=f(n,o.uuid),d=n[l].semesters.filter((function(e){return e.uuid!==o.semesterUuid}));return n[l]={index:n[l].index,uuid:n[l].uuid,semesters:d},n;case"DELETE YEAR":var j=t;return n.filter((function(e){return e.uuid!==j.uuid}));default:throw Error("".concat(t.type," not implemented!"))}}var x=function(e){var t=Object(r.useReducer)(p,void 0,void 0===e?function(){return new Array}:e),n=Object(l.a)(t,2),a=n[0],s=n[1],c=function(e,t){s({type:"ADD YEAR",uuid:e,index:t})},i=function(e,t){s({type:"DELETE SEMESTER",uuid:e,semesterUuid:t})},u=function(e){s({type:"DELETE YEAR",uuid:e})};return{value:a,push:c,putSemester:function(e,t,n,r,a){s({type:"ADD SEMESTER",uuid:e,name:a,start:n,end:r,semesterUuid:t})},removeSemester:i,removeYear:u,clear:function(e){!function(e,t,n,r,a){if(void 0!==a&&-1!==f(e,a)){var s,c=Object(O.a)(e[f(e,a)].semesters);try{for(c.s();!(s=c.n()).done;)n(a,s.value.uuid)}catch(b){c.e(b)}finally{c.f()}}else if(void 0===a){var i,u=new Array,o=Object(O.a)(e);try{for(o.s();!(i=o.n()).done;){var l=i.value;u.push({semesters:[],index:l.index,uuid:l.uuid}),r(l.uuid)}}catch(b){o.e(b)}finally{o.f()}for(var d=0,j=u;d<j.length;d++){var m=j[d];t(m.uuid,m.index)}}}(a,c,i,u,e)}}},v=n(19),g=n(33),y=n.n(g),C=n(65),S=n(64),E=n(34),D=n(66),w=n(71),T=n(29),k=n(67),A=function(e){return e.isOpen?c.a.createPortal(Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"modal-add-course",children:[Object(m.jsx)("button",{onClick:e.onClickClose,children:"Close Button"}),Object(m.jsxs)(k.a,{onSubmit:e.onClickSubmit,children:[Object(m.jsxs)(S.a,{className:"mb-3",children:[Object(m.jsxs)(k.a.Group,{className:"mb-3",as:E.a,controlId:"courseName",children:[Object(m.jsx)(k.a.Label,{children:"Course Name"}),Object(m.jsx)(k.a.Control,{type:"text",placeholder:"Enter Course Name","data-testid":"courseNameField",name:"courseName",defaultValue:e.defaultValues.courseName,onChange:e.onChange}),Object(m.jsxs)(k.a.Text,{className:"text-muted",children:["You can find this from"," ",Object(m.jsx)("a",{href:"https://my.udel.edu/task/all/courses",children:"this"})," ","course search."]})]}),Object(m.jsxs)(k.a.Group,{className:"mb-3",as:E.a,controlId:"courseID",children:[Object(m.jsx)(k.a.Label,{children:"Course ID"}),Object(m.jsx)(k.a.Control,{type:"text",name:"courseID",placeholder:"eg. CISC220",onChange:e.onChange,defaultValue:e.defaultValues.courseID})]})]}),Object(m.jsxs)(k.a.Group,{className:"mb-3",controlId:"courseDescription",children:[Object(m.jsx)(k.a.Label,{children:"Course Description (Optional) "}),Object(m.jsx)(k.a.Control,{name:"courseDescription",as:"textarea",placeholder:"enter the course description here",defaultValue:e.defaultValues.courseDescription,onChange:e.onChange,style:{height:"100px"}})]}),Object(m.jsx)(h.a,{variant:"primary",type:"submit",children:e.isEditing?"Edit Course":"Add Course"})]})]})}),document.getElementById("modal-view")||document.body):null},N=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:{display:"inline-block"},onClick:function(){e.onRemoveCourse(e)},children:e.name}),Object(m.jsx)("button",{style:{display:"inline-block"},className:"trigger","data-testid":"edit-course-button",onClick:function(){e.onClickEdit(e)},children:"Edit"})]})},I=function(e,t){switch(t.type){case"ADD COURSE":return e.set(t.payload.id,t.payload);case"REMOVE COURSE":var n=new Map(e);return n.delete(t.payload.id),n}},R=function(e){return e||new Map},U=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),u=i[0],o=i[1],d=Object(r.useState)(""),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(r.useState)(""),f=Object(l.a)(O,2),p=f[0],x=f[1],g=Object(r.useState)(""),y=Object(l.a)(g,2),C=y[0],S=y[1],E=Object(r.useReducer)(I,e.courses,R),D=Object(l.a)(E,2),w=D[0],T=D[1],k=function(e){T({type:"REMOVE COURSE",payload:e})},U=function(e){h(e.name),S(e.description),x(e.id),s(!0),o(!0)},L=Array.from(w).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(N,Object(v.a)({onClickEdit:U,onRemoveCourse:k},r))," "]},n)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(A,{defaultValues:{courseName:b,courseID:p,courseDescription:C},isEditing:u,isOpen:a,onClickClose:function(){s(!1),o(!1)},onClickSubmit:function(e){!function(e){e.preventDefault(),T({type:"ADD COURSE",payload:{id:p,name:b,description:C}}),h(""),S(""),x(""),u&&o(!1)}(e)},onChange:function(e){switch(e.preventDefault(),e.target.name){case"courseName":h(e.target.value);break;case"courseID":x(e.target.value);break;case"courseDescription":S(e.target.value)}}}),Object(m.jsx)("span",{"data-testid":"Semester ".concat(e.name," ").concat(e.start.getUTCFullYear()),children:e.name}),Object(m.jsx)("button",{"data-testid":"Remove Semester ".concat(e.name," ").concat(e.start.getUTCFullYear()),className:"trigger",onClick:e.removeSemester,children:"-"}),Object(m.jsx)("div",{className:"courses",children:L}),Object(m.jsx)("button",{className:"trigger",onClick:function(){s(!0)},"data-testid":"add-course-button",children:"+"})]})};function L(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("label",{children:"season:"}),Object(m.jsx)("input",{"data-testid":"season-input",type:"text",name:"season",onChange:e.handleInput}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"starts:"}),Object(m.jsx)("input",{"data-testid":"starts-input",type:"date",name:"starts",onChange:e.handleInput}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"ends:"}),Object(m.jsx)("input",{"data-testid":"ends-input",type:"date",name:"ends",onChange:e.handleInput}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{disabled:!e.canSubmit,"data-testid":"submit-button",type:"submit",value:"submit"})]})}var M=function(e){var t=Object(r.useRef)(null),n=Object(r.useMemo)((function(){return e.semesters.sort((function(e,t){return e.start.getTime()-t.start.getTime()})).map((function(e,t,n){for(var r=0,a=0;a<t;a++)e.name===n[a].name&&r++;for(var s={name:r>0?"".concat(e.name," ").concat(r+1):e.name,end:e.end,courses:e.courses,uuid:e.uuid,start:e.start},c=t+1;c<n.length&&e.name===s.name;c++)n[c].name===e.name&&(s.name="".concat(e.name," 1"));return s}))}),[e.semesters]);return Object(m.jsx)(C.a,{className:"container-sm",children:Object(m.jsxs)(S.a,{children:[Object(m.jsx)(E.a,{children:Object(m.jsx)(y.a,{trigger:Object(m.jsx)("button",{"data-testid":"Year ".concat(e.index," label"),className:"trigger",children:"Year ".concat(e.index," >")}),transitionTime:200,children:Object(m.jsxs)(S.a,{"data-testid":"collapsible-content",children:[n.map((function(t,n){return Object(m.jsx)(E.a,{"data-testid":"Year ".concat(e.index," semester ").concat(n+1),children:Object(m.jsx)(U,Object(v.a)(Object(v.a)({},t),{},{removeSemester:function(){e.removeSemester(t.uuid)}}))},t.uuid)})),Object(m.jsxs)(E.a,{children:[Object(m.jsx)("button",{"data-testid":"trigger ".concat(e.index),className:"trigger",ref:t,onClick:function(){e.formInit(e.formUuid===e.uuid?null:e.uuid)},children:"+"}),Object(m.jsx)(D.a,{target:t,placement:"right-end",show:e.formUuid===e.uuid,onHide:function(){e.formInit(null)},rootClose:!0,transition:!1,children:Object(m.jsx)(w.a,{id:"popover-basic",children:Object(m.jsx)(T.a,{children:Object(m.jsx)("div",{"data-testid":"semester-form ".concat(e.index),children:Object(m.jsx)(L,{canSubmit:e.canSubmit,handleInput:e.handleInput,handleSubmit:e.handleSubmit})})})})})]})]})})}),Object(m.jsx)(E.a,{children:Object(m.jsx)("button",{onClick:e.clear,"data-testid":"clear-year ".concat(e.index),children:"Clear"})})]})})};function Y(e,t){var n=e.map((function(e){return{error:e.error,message:e.message,source:e.source,problemType:e.problemType}}));switch(t.type){case"RESOLVE-TYPE":for(var r=t,a=0;a<n.length;a++)n[a].problemType===r.target&&n.splice(a,1);return n;case"ADD":var s=t;return n.push(s.problem),n;case"CLEAR":for(var c=t,i=new Array,u=0;u<n.length;u++)n[u].source!==c.source&&i.push(n[u]);return i;default:throw Error("".concat(t.type," not implemented!"))}}function P(){return new Array}function F(e){if(null!==e.problems){var t=[Object(m.jsxs)("div",{className:"error-counter",children:[e.problems.length," ",1===e.problems.length?"error":"errors"]},0)];return c.a.createPortal(Object(m.jsx)("div",{className:"error-stack-container",children:Object(m.jsx)("div",{className:"error-stack",children:t.concat(e.problems.map((function(e,t){return Object(m.jsx)("span",{className:e.error?"error":"warning","data-testid":e.error?"error":"warning",children:e.message},t+1)})))})}),document.body)}return Object(m.jsx)("span",{"data-testid":"no-errors"})}function V(e,t,n,r){return null!==e&&null!==t?function(e,t,n){var r=new Array;e.getTime()>=t.getTime()?r.push({error:!0,source:"semester-form",message:"Semesters cannot start after they end!",problemType:"semester-starts-after-ends"}):t.getTime()-e.getTime()<=18144e5&&r.push({error:!1,source:"semester-form",message:"Semester is less than three weeks long; is this a mistake?",problemType:"short-semester"});var a,s=Object(O.a)(n);try{for(s.s();!(a=s.n()).done;){var c=a.value;t.getTime()>=c.start.getTime()&&c.end.getTime()>=e.getTime()&&r.push({error:!0,source:"semester-form",message:"Semester overlaps ".concat(c.name),problemType:"semester-overlap"})}}catch(i){s.e(i)}finally{s.f()}return r}(e,t,n):null!==e?B(e,n,r):null!==t?B(t,n,r):[]}function B(e,t,n){var r,a=new Array,s=Object(O.a)(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;e.getTime()>c.start.getTime()&&e.getTime()<c.end.getTime()&&a.push({error:!0,source:"semester-form",message:"".concat(n," overlaps with ").concat(c.name),problemType:"semester-".concat(n,"-overlap")})}}catch(i){s.e(i)}finally{s.f()}return a}function G(){var e=(new Date).getFullYear(),t=new Array,n={index:1,uuid:Object(j.a)(),semesters:[]};n.semesters.push({uuid:Object(j.a)(),name:"fall",start:new Date("".concat(e,"-08-31")),end:new Date("".concat(e,"-12-15")),courses:new Map}),n.semesters.push({uuid:Object(j.a)(),name:"spring",start:new Date("".concat(e+1,"-02-07")),end:new Date("".concat(e+1,"-05-26")),courses:new Map});var r={index:2,uuid:Object(j.a)(),semesters:[]};return r.semesters.push({uuid:Object(j.a)(),name:"fall",start:new Date("".concat(e+1,"-08-31")),end:new Date("".concat(e+1,"-12-15")),courses:new Map}),t.push(n),t.push(r),t}function J(e){var t,n=Object(O.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.error)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function H(e){if(void 0===e.csv&&void 0===e.json){var t=x(G),n=Object(r.useState)(null),a=Object(l.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(null),u=Object(l.a)(i,2),o=u[0],d=u[1],b=Object(r.useState)(null),h=Object(l.a)(b,2),p=h[0],v=h[1],g=Object(r.useState)(null),y=Object(l.a)(g,2),C=y[0],S=y[1],E=Object(r.useState)(!1),D=Object(l.a)(E,2),w=D[0],T=D[1],k=function(){var e=Object(r.useReducer)(Y,void 0,P),t=Object(l.a)(e,2),n=t[0],a=t[1];return{add:function(e){a({type:"ADD",problem:e})},resolve:function(e){a({type:"RESOLVE-TYPE",target:e})},clear:function(e){a({type:"CLEAR",source:e})},value:n}}(),A=function(e){S(e),T(!1),c(null),d(null),v(null),k.clear("semester-form")},N=function(e){switch(e.target.name){case"season":c(e.target.value);break;case"starts":var n=t.value[f(t.value,C)].semesters,r=V(new Date(e.target.value),null!==p?new Date(p):null,n,"starts");if(null===p)k.clear("semester-form"),1===r.length&&k.add(r[0]);else{k.clear("semester-form");var a,s=Object(O.a)(r);try{for(s.s();!(a=s.n()).done;){var i=a.value;k.add(i)}}catch(x){s.e(x)}finally{s.f()}}d(e.target.value);break;case"ends":var u=t.value[f(t.value,C)].semesters,l=new Date(e.target.value),j=V(null!==o?new Date(o):null,l,u,"ends");if(null===p)k.clear("semester-form"),1===j.length&&k.add(j[0]);else{k.clear("semester-form");var m,b=Object(O.a)(j);try{for(b.s();!(m=b.n()).done;){var h=m.value;k.add(h)}}catch(x){b.e(x)}finally{b.f()}}v(e.target.value)}};return s&&p&&o&&!w&&!J(k.value)?T(!0):s&&p&&o&&!J(k.value)||!w||T(!1),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){t.clear()},"data-testid":"clear-button",children:"Clear"}),Object(m.jsxs)("div",{children:[t.value.map((function(e,n){return Object(m.jsx)("div",{"data-testid":"Year",children:Object(m.jsx)(M,{canSubmit:w,handleInput:N,handleSubmit:function(n){!function(e,n){e.preventDefault(),null!==s&&null!==p&&null!==o&&(t.putSemester(n,Object(j.a)(),new Date(o),new Date(p),s),c(null),d(null),v(null),S(null),k.clear("semester-form"))}(n,e.uuid)},semesters:e.semesters,uuid:e.uuid,index:n+1,formUuid:C,setFormUuid:S,removeSemester:function(n){t.removeSemester(e.uuid,n)},clear:function(){t.clear(e.uuid)},formInit:A})},e.uuid)})),Object(m.jsx)("button",{"data-testid":"add-year-button",onClick:function(){t.push(Object(j.a)(),t.value.length)},children:"+"})]}),Object(m.jsx)(F,{problems:k.value})]})}return Object(m.jsx)(m.Fragment,{})}var W=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"center",children:"UD CIS Scheduler"}),Object(m.jsx)("h3",{className:"center",children:"Designed By: Lucas, Max, and Amani"}),Object(m.jsxs)("div",{role:"alert",className:"welcome",children:[Object(m.jsx)("p",{children:"Welcome to the UD Degree Planner!"}),Object(m.jsx)("b",{children:"Click Add/Edit Plan below to Get Started"})]}),Object(m.jsx)(b,{uuid:"",id:0})]})},q=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H,{}),Object(m.jsx)(i.b,{to:"/",children:Object(m.jsx)(h.a,{children:"Back"})}),console.log("the uuid is : ",localStorage.getItem("plan: 0"))]})};var z=function(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(i.a,{children:Object(m.jsx)(u.c,{children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/",component:W}),Object(m.jsx)(u.a,{path:"/Plans/:uuid",component:q})]})})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),K()}},[[59,1,2]]]);
//# sourceMappingURL=main.e5b7cb19.chunk.js.map